{"ast":null,"code":"var _jsxFileName = \"D:\\\\preact\\\\prachi\\\\src\\\\Components\\\\News.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Directions = Object.freeze({\n  UP: 1,\n  DOWN: 2\n});\nexport const TickerStates = Object.freeze({\n  Stopped: 0,\n  Running: 1,\n  Paused: 2\n});\n\nclass NewsTicker extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      speed: this.props.speed,\n      currState: 0,\n      paused: 0,\n      moving: 0,\n      moveInterval: null,\n      items: Array.isArray(this.props.children) && this.props.children || [this.props.children]\n    };\n    this.element = /*#__PURE__*/React.createRef();\n  }\n\n  componentDidMount() {\n    this.init();\n  }\n\n  init() {\n    this.element.current.style.height = `${this.props.rowHeight * this.props.maxRows}px`;\n    this.element.current.style.overflow = `hidden`;\n    this.checkSpeed();\n    if (this.props.autoStart) this.start();\n  }\n\n  start() {\n    if (this.state.currState) return;\n    this.setState((_, props) => ({\n      currState: 1,\n      items: Array.isArray(this.props.children) && this.props.children || [this.props.children]\n    }), () => {\n      this.resetInterval();\n      this.props.started();\n    });\n  }\n\n  stop() {\n    if (!this.state.currState) return;\n    clearInterval(this.state.moveInterval);\n    this.setState({\n      currState: 0\n    }, () => this.props.stopped());\n  }\n\n  resetInterval() {\n    if (!this.state.currState) return;\n    clearInterval(this.state.moveInterval);\n    this.setState({\n      moveInterval: setInterval(() => this.move(), this.props.duration)\n    });\n  }\n\n  move() {\n    if (!this.state.paused) this.moveNext();\n  }\n\n  moveNext() {\n    if (this.props.direction === Directions.DOWN) this.moveDown();else this.moveUp();\n  }\n\n  movePrev() {\n    if (this.props.direction === Directions.DOWN) this.moveUp();else this.moveDown();\n  }\n\n  pause() {\n    if (!this.state.paused) this.setState({\n      paused: 1\n    }, () => this.props.paused());\n  }\n\n  unPause() {\n    if (this.state.paused) {\n      this.setState({\n        paused: 0\n      }, () => this.props.unPaused());\n    }\n  }\n\n  async _handleDownAnimation(newList) {\n    const firsLiEl = this.element.current.children[0];\n    const speed = this.props.speed;\n    await this.setState({\n      items: newList\n    }); // Hide first li element at up\n\n    firsLiEl.style.cssText = `margin: -${this.props.rowHeight}px 0 0 0`; // First element will go down in speed ms\n\n    setTimeout(() => {\n      firsLiEl.style.cssText = `margin: 0;transition: margin ${speed}ms;`;\n    }, 0); // Wait for speed ms and add last element to beginning of the list.\n\n    await new Promise(resolve => setTimeout(async () => {\n      newList.pop();\n      await this.setState({\n        items: newList\n      });\n      resolve();\n    }, speed));\n  }\n\n  async moveDown() {\n    if (this.state.moving) return;\n    await this.setState({\n      moving: 1\n    });\n    this.props.movingDown();\n    const itemsCopy = [...this.state.items];\n    itemsCopy.unshift(itemsCopy[itemsCopy.length - 1]);\n    await this._handleDownAnimation(itemsCopy);\n    await this.setState({\n      moving: 0\n    });\n    this.props.hasMoved();\n  }\n\n  async _handleUpAnimation(newList) {\n    const firsLiEl = this.element.current.children[0];\n    await this.setState({\n      items: newList\n    }); // Wait for speed ms and send first element to end of the list.\n    // After that get first list element back to margin 0.\n\n    await new Promise(resolve => setTimeout(async () => {\n      newList.shift();\n      await this.setState({\n        items: newList\n      });\n      firsLiEl.style.cssText = \"margin: 0\";\n      resolve();\n    }, this.props.speed));\n  }\n\n  async moveUp() {\n    if (this.state.moving) return;\n    await this.setState({\n      moving: 1\n    });\n    this.props.movingUp();\n    const itemsCopy = [...this.state.items];\n    itemsCopy.push(itemsCopy[0]);\n    await this._handleUpAnimation(itemsCopy);\n    await this.setState({\n      moving: 0\n    });\n    this.props.hasMoved();\n  }\n\n  getState() {\n    if (this.state.paused) return TickerStates.Paused;else return this.state.currState ? TickerStates.Running : TickerStates.Stopped;\n  }\n\n  checkSpeed() {\n    if (this.props.duration < this.state.speed + 25) this.setState((_, props) => ({\n      speed: props.duration - 25\n    }));\n  }\n\n  prevButtonClick() {\n    this.movePrev();\n    this.resetInterval();\n  }\n\n  nextButtonClick() {\n    this.moveNext();\n    this.resetInterval();\n  }\n\n  startButtonClick() {\n    this.start();\n  }\n\n  stopButtonClick() {\n    this.stop();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: this.props.className,\n      id: this.props.id,\n      style: this.props.style,\n      ref: this.element,\n      onMouseEnter: () => {\n        this.props.pauseOnHover && this.state.currState && this.pause();\n      },\n      onMouseLeave: () => {\n        this.props.pauseOnHover && this.state.currState && this.unPause();\n      },\n      children: this.state.items && this.state.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: item\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 76\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nNewsTicker.propTypes = {\n  rowHeight: PropTypes.number,\n  maxRows: PropTypes.number,\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n  speed: PropTypes.number,\n  duration: PropTypes.number,\n  direction: PropTypes.oneOf([Directions.UP, Directions.DOWN]),\n  autoStart: PropTypes.bool,\n  pauseOnHover: PropTypes.bool,\n  className: PropTypes.string,\n  id: PropTypes.string,\n  style: PropTypes.object,\n  hasMoved: PropTypes.func,\n  movingUp: PropTypes.func,\n  movingDown: PropTypes.func,\n  started: PropTypes.func,\n  stopped: PropTypes.func,\n  paused: PropTypes.func,\n  unPaused: PropTypes.func\n};\nNewsTicker.defaultProps = {\n  rowHeight: 22,\n  children: [],\n  maxRows: 3,\n  speed: 400,\n  duration: 2500,\n  direction: Directions.UP,\n  autoStart: true,\n  pauseOnHover: true,\n  className: \"\",\n  style: {},\n  id: \"\",\n  hasMoved: function () {},\n  movingUp: function () {},\n  movingDown: function () {},\n  started: function () {},\n  stopped: function () {},\n  paused: function () {},\n  unPaused: function () {}\n};\nexport default NewsTicker;","map":{"version":3,"sources":["D:/preact/prachi/src/Components/News.js"],"names":["React","Component","PropTypes","Directions","Object","freeze","UP","DOWN","TickerStates","Stopped","Running","Paused","NewsTicker","constructor","props","state","speed","currState","paused","moving","moveInterval","items","Array","isArray","children","element","createRef","componentDidMount","init","current","style","height","rowHeight","maxRows","overflow","checkSpeed","autoStart","start","setState","_","resetInterval","started","stop","clearInterval","stopped","setInterval","move","duration","moveNext","direction","moveDown","moveUp","movePrev","pause","unPause","unPaused","_handleDownAnimation","newList","firsLiEl","cssText","setTimeout","Promise","resolve","pop","movingDown","itemsCopy","unshift","length","hasMoved","_handleUpAnimation","shift","movingUp","push","getState","prevButtonClick","nextButtonClick","startButtonClick","stopButtonClick","render","className","id","pauseOnHover","map","item","index","propTypes","number","oneOfType","arrayOf","node","isRequired","oneOf","bool","string","object","func","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nexport const Directions = Object.freeze({ UP: 1, DOWN: 2 });\r\nexport const TickerStates = Object.freeze({ Stopped: 0, Running: 1, Paused: 2 });\r\n\r\nclass NewsTicker extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            speed: this.props.speed,\r\n            currState: 0,\r\n            paused: 0,\r\n            moving: 0,\r\n            moveInterval: null,\r\n            items: (Array.isArray(this.props.children) && this.props.children) || [this.props.children],\r\n        };\r\n\r\n        this.element = React.createRef();\r\n    }\r\n    componentDidMount() {\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.element.current.style.height = `${this.props.rowHeight * this.props.maxRows}px`;\r\n        this.element.current.style.overflow = `hidden`;\r\n        this.checkSpeed();\r\n\r\n        if (this.props.autoStart) this.start();\r\n    }\r\n\r\n    start() {\r\n        if (this.state.currState) return;\r\n\r\n        this.setState(\r\n            (_, props) => ({\r\n                currState: 1,\r\n                items: (Array.isArray(this.props.children) && this.props.children) || [this.props.children],\r\n            }),\r\n            () => {\r\n                this.resetInterval();\r\n                this.props.started();\r\n            }\r\n        );\r\n    }\r\n    stop() {\r\n        if (!this.state.currState) return;\r\n\r\n        clearInterval(this.state.moveInterval);\r\n        this.setState({ currState: 0 }, () => this.props.stopped());\r\n    }\r\n\r\n    resetInterval() {\r\n        if (!this.state.currState) return;\r\n        clearInterval(this.state.moveInterval);\r\n        this.setState({\r\n            moveInterval: setInterval(() => this.move(), this.props.duration),\r\n        });\r\n    }\r\n    move() {\r\n        if (!this.state.paused) this.moveNext();\r\n    }\r\n    moveNext() {\r\n        if (this.props.direction === Directions.DOWN) this.moveDown();\r\n        else this.moveUp();\r\n    }\r\n    movePrev() {\r\n        if (this.props.direction === Directions.DOWN) this.moveUp();\r\n        else this.moveDown();\r\n    }\r\n    pause() {\r\n        if (!this.state.paused) this.setState({ paused: 1 }, () => this.props.paused());\r\n    }\r\n    unPause() {\r\n        if (this.state.paused) {\r\n            this.setState({ paused: 0 }, () => this.props.unPaused());\r\n        }\r\n    }\r\n\r\n    async _handleDownAnimation(newList) {\r\n        const firsLiEl = this.element.current.children[0];\r\n        const speed = this.props.speed;\r\n\r\n        await this.setState({ items: newList });\r\n        // Hide first li element at up\r\n        firsLiEl.style.cssText = `margin: -${this.props.rowHeight}px 0 0 0`;\r\n\r\n        // First element will go down in speed ms\r\n        setTimeout(() => {\r\n            firsLiEl.style.cssText = `margin: 0;transition: margin ${speed}ms;`;\r\n        }, 0);\r\n\r\n        // Wait for speed ms and add last element to beginning of the list.\r\n        await new Promise((resolve) =>\r\n            setTimeout(async () => {\r\n                newList.pop();\r\n                await this.setState({ items: newList });\r\n\r\n                resolve();\r\n            }, speed)\r\n        );\r\n    }\r\n\r\n    async moveDown() {\r\n        if (this.state.moving) return;\r\n\r\n        await this.setState({ moving: 1 });\r\n        this.props.movingDown();\r\n\r\n        const itemsCopy = [...this.state.items];\r\n        itemsCopy.unshift(itemsCopy[itemsCopy.length - 1]);\r\n\r\n        await this._handleDownAnimation(itemsCopy);\r\n\r\n        await this.setState({ moving: 0 });\r\n        this.props.hasMoved();\r\n    }\r\n\r\n    async _handleUpAnimation(newList) {\r\n        const firsLiEl = this.element.current.children[0];\r\n        await this.setState({ items: newList });\r\n\r\n\r\n\r\n        // Wait for speed ms and send first element to end of the list.\r\n        // After that get first list element back to margin 0.\r\n        await new Promise((resolve) =>\r\n            setTimeout(async () => {\r\n                newList.shift();\r\n                await this.setState({ items: newList });\r\n                firsLiEl.style.cssText = \"margin: 0\";\r\n                resolve();\r\n            }, this.props.speed)\r\n        );\r\n    }\r\n\r\n    async moveUp() {\r\n        if (this.state.moving) return;\r\n\r\n        await this.setState({ moving: 1 });\r\n        this.props.movingUp();\r\n\r\n        const itemsCopy = [...this.state.items];\r\n        itemsCopy.push(itemsCopy[0]);\r\n\r\n        await this._handleUpAnimation(itemsCopy);\r\n\r\n        await this.setState({ moving: 0 });\r\n        this.props.hasMoved();\r\n    }\r\n\r\n    getState() {\r\n        if (this.state.paused) return TickerStates.Paused;\r\n        else return this.state.currState ? TickerStates.Running : TickerStates.Stopped;\r\n    }\r\n\r\n    checkSpeed() {\r\n        if (this.props.duration < this.state.speed + 25) this.setState((_, props) => ({ speed: props.duration - 25 }));\r\n    }\r\n\r\n    prevButtonClick() {\r\n        this.movePrev();\r\n        this.resetInterval();\r\n    }\r\n\r\n    nextButtonClick() {\r\n        this.moveNext();\r\n        this.resetInterval();\r\n    }\r\n\r\n    startButtonClick() {\r\n        this.start();\r\n    }\r\n\r\n    stopButtonClick() {\r\n        this.stop();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ul\r\n                className={this.props.className}\r\n                id={this.props.id}\r\n                style={this.props.style}\r\n                ref={this.element}\r\n                onMouseEnter={() => {\r\n                    this.props.pauseOnHover && this.state.currState && this.pause();\r\n                }}\r\n                onMouseLeave={() => {\r\n                    this.props.pauseOnHover && this.state.currState && this.unPause();\r\n                }}>\r\n                {this.state.items && this.state.items.map((item, index) => <li key={index}>{item}</li>)}\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nNewsTicker.propTypes = {\r\n    rowHeight: PropTypes.number,\r\n    maxRows: PropTypes.number,\r\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\r\n    speed: PropTypes.number,\r\n    duration: PropTypes.number,\r\n    direction: PropTypes.oneOf([Directions.UP, Directions.DOWN]),\r\n    autoStart: PropTypes.bool,\r\n    pauseOnHover: PropTypes.bool,\r\n    className: PropTypes.string,\r\n    id: PropTypes.string,\r\n    style: PropTypes.object,\r\n    hasMoved: PropTypes.func,\r\n    movingUp: PropTypes.func,\r\n    movingDown: PropTypes.func,\r\n    started: PropTypes.func,\r\n    stopped: PropTypes.func,\r\n    paused: PropTypes.func,\r\n    unPaused: PropTypes.func,\r\n};\r\nNewsTicker.defaultProps = {\r\n    rowHeight: 22,\r\n    children: [],\r\n    maxRows: 3,\r\n    speed: 400,\r\n    duration: 2500,\r\n    direction: Directions.UP,\r\n    autoStart: true,\r\n    pauseOnHover: true,\r\n    className: \"\",\r\n    style: {},\r\n    id: \"\",\r\n    hasMoved: function () { },\r\n    movingUp: function () { },\r\n    movingDown: function () { },\r\n    started: function () { },\r\n    stopped: function () { },\r\n    paused: function () { },\r\n    unPaused: function () { },\r\n};\r\nexport default NewsTicker;\r\n"]},"metadata":{},"sourceType":"module"}